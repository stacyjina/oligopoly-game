# The Oligopoly Game

## Описание

Данный проект представляет из себя web-приложение с реализацией мультиплеерной экономической игры. Допустимое количество игроков -- от 2 до 5 (данный параметр задается при создании новой игры). В приложении реализована логики сессий и "аккаунтов", то есть каждый игрок заходит в игру под своим логином, а сайт сохраняет информацию о входе в аккаунт.

Игра состоит из пяти раундов, в каждом из которых игроки должны представить себя в роли фирмы, производящей некоторый продукт. Игрокам будет известна агрегированная функция спроса на продукт, а также функция их прибыли, зависящая от цены, выпуска и трат на маркетинг. В каждом раунде игроки должны выбрать, сколько единиц продукции они будут производить, а также сколько денег потратят на рекламу. Когда все игроки сделают свой ход, страница автоматически обновляется и начинается новый раунд. Также игрокам предлагается помощь в виде подсказки: игрок может предположить, сколько суммарно будут производить другие фирмы, а алгоритм выдаст самые оптимальные значения для максимизации его прибыли. 

По окончании 5 раундов выводится итоговая таблица с результатами за все раунды.

## Стек технологий

* PHP
* HTML
* CSS
* Java Script
* Ajax
* Visual Studio Code

## Архитектура приложения

### Основная папка

Файл **game.php**. Реализация класса ```Game```, через методы которого и происходит игра.

Файл **index.php**. Главная страница с описанием игры и интерфейсом для создания новой игры.

Файл **game_page.php**. Страница, на котороый происходит сама игра. Изначально тут изложены правила, а в процессе игры проходят раунды.

Файл **about.php**. Страница с кратким описанием проекта и ссылкой на GitHub-репозиторий.

Файл **db.php**. Здесь реализовано подключение к базе данных. Данный файл используется в большинстве файлов игры.

Файл **login_button.php**. Реализация login-формы и кнопки к ней.

Файл **logout_button.php**. Реализация кнокпа выхода из аккаунта.

Файл **logout.php**. Страница, запускающаяся при выходе из аккаунта и перенаправляющая на главную страницу.

Файл **navbar.php**. Реализация Navigation Bar'а.

### Папка **css**

Файл **style.css**. Регламентация отображения элементов (цвета, шрифты, расположение и тд).

### Папка **js**

Файл **action.js**. JS-скрипт, запускающийся при нажатии на различные кнопки (сохранение хода и прочее).

### Папка **ajax**

Файл **helper.php**. Реализация рекомендаций игрокам.

Файл **savechoice.php**. Реализация сохранения выбора игрока.

## База данных

База состоит из нескольких таблиц:

### players

Содержит информацию о всех игроках

* login: логин игрока
* password: соответственно, пароль от игры

### games

Содержит информацию о всех играх

* gamename: название игры
* cur_round: текущий раунд игры
* num_players: количество игроков в игре

### moves 

Содержит в себе информацию о ходах игроков в каждом раунде

* game: название игры
* login: логин игрока
* round: раунд, в котором был сделан ход
* yeild: выпуск
* pr: траты на маркетинг

### rounds

Содержит себе информацию об итогах раундов 

* game: название игры
* login: логин игрока
* round: раунд
* profit: прибыль игрока в данном раунде

### gamenames

Техническая таблица для отслеживания названий игр

* name: название игры

